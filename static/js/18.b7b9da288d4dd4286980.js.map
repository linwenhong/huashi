{"version":3,"sources":["webpack:///src/components/login/login.vue","webpack:///./src/components/login/login.vue?e88b","webpack:///./src/components/login/login.vue"],"names":["login_login","name","data","username","password","pageSet","created","_this","this","vue_esm","http","get","config","then","response","web_name","$","text","cache","clear","methods","register","$router","push","login","_this2","options","headers","request","post","code","setToken","token","setUser","setTimeout","toastr","error","msg","components_login_login","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","on","submit","$event","preventDefault","directives","rawName","value","expression","attrs","type","domProps","input","target","composing","onkeyup","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"qKAmCAA,GACAC,KAAA,QACAC,KAFA,WAGA,OACAC,SAAA,KACAC,SAAA,KACAC,aAGAC,QATA,WASA,IAAAC,EAAAC,KACIC,EAAA,EAAJC,KAAAC,IAAAC,EAAA,cAAAC,KAAA,SAAAC,GACAP,EAAAF,QAAAS,EAAAZ,UACAK,EAAAF,QAAAU,UACAC,EAAA,sBAAAC,KAAAV,EAAAF,QAAAU,YAGIG,EAAA,EAAJC,SAEAC,SACAC,SADA,WAEAb,KAAAc,QAAAC,KAAA,cAEAC,MAJA,WAIA,IAAAC,EAAAjB,KACA,GAAAA,KAAAL,UAAAK,KAAAJ,SAEA,CACQK,EAAA,EAARC,KAAAgB,QAAAC,WACA,IAAAC,GACAzB,SAAAK,KAAAL,SACAC,SAAAI,KAAAJ,UAEQK,EAAA,EAARC,KAAAmB,KAAAjB,EAAA,UAAAgB,MAAAf,KAAA,SAAAC,GACA,IAAAZ,EAAAY,EAAAZ,UACA,KAAAY,EAAAZ,KAAA4B,MACYZ,EAAA,EAAZa,SAAA7B,EAAA8B,OACYd,EAAA,EAAZe,QAAA/B,GACAgC,WAAA,kBAAAT,EAAAH,QAAAC,KAAA,gBACA,KAAAT,EAAAZ,KAAA4B,MACAK,OAAAC,MAAAtB,EAAAZ,KAAAmC,YAdAF,OAAAC,MAAA,kBCxDeE,GADEC,OAFjB,WAA0B,IAAAC,EAAAhC,KAAaiC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,uDAAiEF,EAAA,OAAYE,YAAA,WAAqBF,EAAA,OAAYE,YAAA,QAAkBF,EAAA,MAAAH,EAAAM,GAAAN,EAAAO,GAAAP,EAAAnC,QAAAU,aAAAyB,EAAAM,GAAA,KAAAH,EAAA,OAAwEE,YAAA,mCAA6CF,EAAA,QAAaE,YAAA,kBAAAG,IAAkCC,OAAA,SAAAC,GAAkD,OAAxBA,EAAAC,iBAAwBX,EAAAhB,MAAA0B,OAA2BP,EAAA,OAAYE,YAAA,eAAyBF,EAAA,SAAcE,YAAA,2BAAqCL,EAAAM,GAAA,QAAAN,EAAAM,GAAA,KAAAH,EAAA,OAAuCE,YAAA,aAAuBF,EAAA,SAAcS,aAAanD,KAAA,QAAAoD,QAAA,UAAAC,MAAAd,EAAA,SAAAe,WAAA,aAA0EV,YAAA,eAAAW,OAAoCC,KAAA,QAAcC,UAAWJ,MAAAd,EAAA,UAAuBQ,IAAKW,MAAA,SAAAT,GAAyBA,EAAAU,OAAAC,YAAsCrB,EAAArC,SAAA+C,EAAAU,OAAAN,eAAmCd,EAAAM,GAAA,KAAAH,EAAA,OAA4BE,YAAA,eAAyBF,EAAA,SAAcE,YAAA,2BAAqCL,EAAAM,GAAA,QAAAN,EAAAM,GAAA,KAAAH,EAAA,OAAuCE,YAAA,aAAuBF,EAAA,SAAcS,aAAanD,KAAA,QAAAoD,QAAA,UAAAC,MAAAd,EAAA,SAAAe,WAAA,aAA0EV,YAAA,eAAAW,OAAoCC,KAAA,WAAAK,QAAA,qDAAgFJ,UAAWJ,MAAAd,EAAA,UAAuBQ,IAAKW,MAAA,SAAAT,GAAyBA,EAAAU,OAAAC,YAAsCrB,EAAApC,SAAA8C,EAAAU,OAAAN,eAAmCd,EAAAM,GAAA,KAAAH,EAAA,OAA4BE,YAAA,6BAAuCF,EAAA,UAAeE,YAAA,mCAAAW,OAAsDC,KAAA,YAAiBjB,EAAAM,GAAA,SAAAN,EAAAM,GAAA,KAAAH,EAAA,KAAsCK,IAAIe,MAAAvB,EAAAnB,YAAsBmB,EAAAM,GAAA,wBAEjmDkB,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEnE,EACAsC,GATF,EAVA,SAAA8B,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/18.b7b9da288d4dd4286980.js","sourcesContent":["<template>\n  <div class=\"text-center loginscreen  animated fadeInDown login\">\n    <div class=\"row mt\">\n      <div class=\"box\">\n        <h1>{{ pageSet.web_name }}</h1>\n        <div class=\"m-t form-horizontal middle-box\">\n          <form class=\"form-horizontal\" @submit.prevent=\"login\">\n            <div class=\"form-group\">\n              <label class=\"control-label col-sm-3\">账号</label>\n              <div class=\"col-sm-9\">\n                <input type=\"text\" class=\"form-control\" v-model=\"username\">\n              </div>\n            </div>\n            <div class=\"form-group\">\n              <label class=\"control-label col-sm-3\">密码</label>\n              <div class=\"col-sm-9\">\n                <input type=\"password\" class=\"form-control\" v-model=\"password\" onkeyup=\"this.value=this.value.replace(/[^0-9a-zA-Z]/g,'')\">\n              </div>\n            </div>\n            <div class=\"col-sm-offset-3 col-sm-9\">\n              <button type=\"submit\" class=\"btn btn-primary block full-width\">登 录</button>\n              <a @click=\"register\">注册用户？</a>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script type=\"text/ecmascript-6\">\nimport Vue from 'vue'\nimport { API_URL } from '@/assets/config'\nimport Cache from '@/assets/cache'\nexport default {\n  name: 'login',\n  data () {\n    return {\n      username: null,\n      password: null,\n      pageSet: {}\n    }\n  },\n  created () {\n    Vue.http.get(API_URL + 'page_set').then(response => {\n      this.pageSet = response.data.data\n      if (this.pageSet.web_name) {\n        $('title.projectTitle').text(this.pageSet.web_name)\n      }\n    })\n    Cache.clear()\n  },\n  methods: {\n    register () {\n      this.$router.push('/register')\n    },\n    login () {\n      if (!this.username || !this.password) {\n        toastr.error('用户名或密码不能为空!')\n      } else {\n        Vue.http.options.headers = {}\n        const request = {\n          username: this.username,\n          password: this.password\n        }\n        Vue.http.post(API_URL + 'login', request, {}).then(response => {\n            const data = response.data.data\n            if (response.data.code == 200) {\n              Cache.setToken(data.token)\n              Cache.setUser(data)\n              setTimeout(() => this.$router.push('/user'), 1000)\n            } else if (response.data.code == 500) {\n              toastr.error(response.data.msg)\n            }\n          })\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.mt{\n  margin-top: 200px;\n}\n.mt h1{\n  font-weight: bold;\n}\n.login{\n  position: relative;\n  padding: 3rem;\n  height: 100vh;\n  font-size: 16px;\n  color: #000;\n  background: url(/static/img/bg.jpg) no-repeat center;\n  background-size: 100%;\n}\na {\n  margin-top: 10px;\n}\n.box {\n  display: inline-block;\n  width: 400px;\n  margin: 0 auto;\n  padding: 30px 50px 30px 30px;\n  border-radius: 10px;\n  background-color: #fff;\n  box-shadow: 5px 5px 5px rgba(0, 0, 0, .5);\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/login/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-center loginscreen  animated fadeInDown login\"},[_c('div',{staticClass:\"row mt\"},[_c('div',{staticClass:\"box\"},[_c('h1',[_vm._v(_vm._s(_vm.pageSet.web_name))]),_vm._v(\" \"),_c('div',{staticClass:\"m-t form-horizontal middle-box\"},[_c('form',{staticClass:\"form-horizontal\",on:{\"submit\":function($event){$event.preventDefault();return _vm.login($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"control-label col-sm-3\"},[_vm._v(\"账号\")]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-9\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"control-label col-sm-3\"},[_vm._v(\"密码\")]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-9\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"onkeyup\":\"this.value=this.value.replace(/[^0-9a-zA-Z]/g,'')\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-offset-3 col-sm-9\"},[_c('button',{staticClass:\"btn btn-primary block full-width\",attrs:{\"type\":\"submit\"}},[_vm._v(\"登 录\")]),_vm._v(\" \"),_c('a',{on:{\"click\":_vm.register}},[_vm._v(\"注册用户？\")])])])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9165ad80\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/login/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9165ad80\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9165ad80\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9165ad80\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}