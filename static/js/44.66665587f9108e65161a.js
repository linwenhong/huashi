webpackJsonp([44],{EXbQ:function(t,e){},JBwx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("8IWg"),s=n("+0rj"),i=n("TNi3"),c=n("9+VK"),r=n("BXxX"),o={name:"researchProjectsOtherDetails",data:function(){return{id:this.$route.params.id,form:{},code:a.a.ResearchProjectsOther,dataKeys:a.G,canShow:!1,canSubmit:!0,user:c.a.getUser(),permissionName:"academic_achievements"}},methods:{canEdit:function(){return c.a.canEdit(this.form,this.permissionName)||"new"==this.id},canLocking:function(){return c.a.canLocking(this.form,this.permissionName)},locking:function(){var t=this;confirm("确定提交吗?提交后将不能修改!")&&s.a.getFormVal(this.dataKeys,this.form).then(function(e){e.status=1,t.confirm(e)})},submit:function(){var t=this;s.a.getFormVal(this.dataKeys,this.form).then(function(e){return t.confirm(e)})},confirm:function(t){var e=this;this.canSubmit&&(this.canSubmit=!1,"new"!=this.id?r.a.ResearchProjectsOther.edit(this.id,t).then(function(t){return e.responseHandle(t)}):r.a.ResearchProjectsOther.add(t).then(function(t){return e.responseHandle(t)}))},responseHandle:function(t){200==t.code?(toastr.success(t.msg),setTimeout(function(){return s.a.tabReload(203)},1e3)):(toastr.error(t.msg),this.canSubmit=!0)},cancel:function(){i.a.closeNowTab()}},created:function(){var t=this;this.dataKeys[6].selectOption=["地、市、厅、局等政府部门项目","国际合作研究项目","与港澳台合作研究项目","外资研究项目","其他研究项目","学校社科项目"],s.a.getTableKeys(r.a,this.code,this.dataKeys).then(function(e){t.dataKeys=e,t.canShow=!0}),"new"!=this.id&&r.a.ResearchProjectsOther.details(this.id).then(function(e){200==e.code&&(t.form=e.data)})},mounted:function(){}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper wrapper-content"},[n("div",{staticClass:"ibox"},[t._m(0),t._v(" "),n("div",{staticClass:"ibox-content"},[t.canShow?n("form",{staticClass:"form-horizontal",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("div",{staticClass:"row"},[n("public-form",{attrs:{dataKeys:t.dataKeys,form:t.form}})],1),t._v(" "),n("div",{staticClass:"text-center row"},[t.canEdit()?[t.canSubmit?n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("保存")]):t._e(),t._v(" "),t.canSubmit?t._e():n("button",{staticClass:"btn btn-default"},[t._v("保存")]),t._v(" "),t.canLocking()?n("b",{staticClass:"btn btn-warning",on:{click:t.locking}},[t._v("提交")]):t._e()]:t._e(),t._v(" "),n("b",{staticClass:"btn btn-white",on:{click:t.cancel}},[t._v("取消")])],2)]):t._e()])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ibox-title"},[e("h5",[this._v("科研项目(其他纵向项目)详情")])])}]};var h=n("VU/8")(o,u,!1,function(t){n("EXbQ")},"data-v-5c6cdff3",null);e.default=h.exports}});
//# sourceMappingURL=44.66665587f9108e65161a.js.map