{"version":3,"sources":["webpack:///src/components/Achievements/scoreDetails.vue","webpack:///./src/components/Achievements/scoreDetails.vue?94dd","webpack:///./src/components/Achievements/scoreDetails.vue"],"names":["scoreDetails","name","data","id","this","$route","params","form","dataKeys","constant","proportions","proportionsData","isChange","proportionsSum","canSubmit","isDisabled","api_url","config","count","methods","fileChange","key","$","get","files","scoreChange","changeKey","Number","toFixed","proportionChange","total","submit","_this","toastr","warning","service","Proportion","edit","then","response","code","method_data","getFormVal","result","confirm","request","_this2","Score","responseHandle","add","success","msg","setTimeout","tabReload","error","cancel","tabs","closeNowTab","created","_this3","cache","hasPermission","map","option","index","details","val","time","mounted","Achievements_scoreDetails","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","on","$event","preventDefault","_l","isHide","_e","_s","directives","rawName","value","expression","attrs","maxlength","domProps","input","target","composing","$set","readonly","placeholder","onclick","type","change","onkeyup","click","staticStyle","display","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/22.79359cbcff7d9ddf4ab7.js","sourcesContent":["<template>\n  <div class=\"wrapper wrapper-content\">\n    <div class=\"ibox\">\n      <div class=\"ibox-title\">\n        <h5>评分</h5>\n      </div>\n\n      <div class=\"ibox-content\">\n        <form class=\"form-horizontal\" @submit.prevent=\"submit\">\n          <div class=\"row\">\n            <template v-for=\"(option, index) of dataKeys\" v-if=\"!option.isHide\">\n\n              <template v-if=\"option.isRemark\">\n                <div class=\"floor\">\n                  <label class=\"col-sm-2 control-label\"><span v-if=\"option.isMust\" class=\"MustFill\">*</span>{{ option.name }}</label>\n                  <div class=\"col-sm-8 right\">\n                    <textarea maxlength=\"1000\" class=\"form-control\" v-model=\"form[option.key]\"></textarea>\n                  </div>\n                </div>\n              </template>\n\n              <template v-else>\n                <div class=\"col-sm-6\">\n                  <div class=\"form-group\">\n                    <label class=\"col-sm-4 control-label\"><span v-if=\"option.isMust\" class=\"MustFill\">*</span>{{ option.name }}：</label>\n                    <div class=\"col-sm-8 right\">\n                      <template v-if=\"option.isDateTime\">\n                        <input readonly class=\"form-control layer-date\" id=\"time\" placeholder=\"请选择日期\" onclick=\"laydate({ elem: '#time'})\">\n                      </template>\n                      <template v-else-if=\"option.isFile\">\n                        <button type=\"button\" class=\"btn btn-sm btn-primary\"><i class=\"fa fa-upload\"></i>&nbsp;&nbsp;\n                          <span class=\"bold\">选择附件</span>\n                        </button>\n                        <input :id=\"option.key\" type=\"file\" class=\"file\" @change=\"fileChange(option.key)\">\n                        <span class=\"remark\">(最大20M)</span>\n                        {{ (form[option.key] && form[option.key].name) ? form[option.key].name : form[option.key] ? api_url + form[option.key] : '' }}\n                      </template>\n                      <template v-else>\n                        <input v-if=\"index <= 2\" type=\"text\" class=\"form-control\" v-model=\"form[option.key]\">\n                        <template v-if=\"index > 2\">\n                          <input onkeyup=\"this.value=this.value.replace(/[^0-9]/g,'')\" class=\"form-control proportion\" v-model=\"form[option.key]\" @change=\"scoreChange(option.key)\">\n                          <input onkeyup=\"this.value=this.value.replace(/[^0-9]/g,'')\" class=\"form-control proportion\" v-model=\"proportions[option.key]\" @change=\"proportionChange(option.key)\"> %\n                        </template>\n                      </template>\n                    </div>\n                  </div>\n                </div>\n              </template>\n\n            </template>\n          </div>\n          <p v-if=\"proportionsSum != 100\">比例总和必须为100%, 目前比例总和为{{ proportionsSum }}%</p>\n          <div class=\"text-center row\">\n            <template v-if=\"!isDisabled\">\n              <button v-if=\"canSubmit\" type=\"submit\" class=\"btn btn-primary\">保存</button>\n              <button v-if=\"!canSubmit\" class=\"btn btn-default\">保存</button>\n            </template>\n            <b class=\"btn btn-white\" @click=\"cancel\">取消</b>\n          </div>\n        </form>\n      </div>\n    </div>\n\n    <div style=\"display: none\">{{ count }}</div>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\nimport { API_URL } from '@/assets/config'\nimport { scoreKeys } from '@/assets/constant'\nimport dataService from '@/assets/method/data'\nimport Cache from '@/assets/cache'\nimport tabsService from '@/assets/template/tabs'\nimport Service from '@/assets/service/service'\nexport default {\n  name: 'scoreDetails',\n  data () {\n    return {\n      id: this.$route.params['id'],\n      form: {},\n      dataKeys: scoreKeys,\n      proportions: {},\n      proportionsData: {},\n      isChange: false,\n      proportionsSum: 100,\n      canSubmit: true,\n      isDisabled: true,\n      api_url: API_URL,\n      count: 0\n    }\n  },\n  methods: {\n    fileChange (key) {\n      if ($('#' + key).get(0).files[0]) {\n        this.form[key] = $('#' + key).get(0).files[0]\n        this.count++\n      }\n    },\n    scoreChange (changeKey) {\n      this.form[changeKey] = Number(this.form[changeKey]).toFixed(0)\n    },\n    proportionChange (changeKey) {\n      this.proportions[changeKey] = Number(this.proportions[changeKey]).toFixed(0)\n      let total = 0\n      for (const key in this.proportions) {\n        total += Number(this.proportions[key])\n      }\n      this.proportionsSum = total\n      this.isChange = true\n    },\n    submit () {\n      if (this.isChange) {\n        if (this.proportionsSum != 100) {\n          toastr.warning('比例总和必须为100')\n          return\n        }\n        const proportions = {}\n        for (const key in this.proportions) {\n          if (Number(this.proportions[key]) < 0) {\n            toastr.warning('比例不能为负数')\n            return\n          }\n          if (key != 'total' && key != 'annex' && key != 'remark') {\n            proportions[key] = Number(this.proportions[key])/100\n          }\n        }\n        Service.Proportion.edit(this.proportionsData.id, proportions).then(response => {\n          if (response.code == 200) {\n            dataService.getFormVal(this.dataKeys, this.form).then(result => this.confirm(result))\n          }\n        })\n      } else {\n        dataService.getFormVal(this.dataKeys, this.form).then(result => this.confirm(result))\n      }\n    },\n    confirm(request) {\n      this.canSubmit = false\n      if (this.id != 'new') {\n        Service.Score.edit(this.id, request).then(response => this.responseHandle(response))\n      } else  {\n        Service.Score.add(request).then(response => this.responseHandle(response))\n      }\n    },\n    responseHandle (response) {\n      if (response.code == 200) {\n        toastr.success(response.msg)\n        setTimeout(() => dataService.tabReload(210), 1000)\n      } else {\n        toastr.error(response.msg)\n        this.canSubmit = true\n      }\n    },\n    cancel () {\n      tabsService.closeNowTab()\n    }\n  },\n  created () {\n    if (Cache.hasPermission('score')) {\n      this.isDisabled = false\n    }\n    Service.Proportion.get().then(response => {\n      if (response.code == 200) {\n        this.proportionsData = response.data\n        this.proportions = {}\n        this.dataKeys.map((option, index) => {\n          if (index > 2) {\n            this.proportions[option.key] = response.data[option.key] ? response.data[option.key] * 100 : 0\n          }\n        })\n      }\n    })\n    if (this.id != 'new') {\n      Service.Score.details(this.id).then(response => {\n        if (response.code == 200) {\n          this.form = response.data\n          $('#time').val(response.data.time)\n        }\n      })\n    }\n  },\n  mounted () {\n  }\n}\n</script>\n\n<style scoped>\n.right .form-control {\n  display: inline-block;\n}\n.proportion {\n  width: 80px;\n}\np {\n  padding-left: 20px;\n  color: red;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Achievements/scoreDetails.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper wrapper-content\"},[_c('div',{staticClass:\"ibox\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"ibox-content\"},[_c('form',{staticClass:\"form-horizontal\",on:{\"submit\":function($event){$event.preventDefault();return _vm.submit($event)}}},[_c('div',{staticClass:\"row\"},[_vm._l((_vm.dataKeys),function(option,index){return (!option.isHide)?[(option.isRemark)?[_c('div',{staticClass:\"floor\"},[_c('label',{staticClass:\"col-sm-2 control-label\"},[(option.isMust)?_c('span',{staticClass:\"MustFill\"},[_vm._v(\"*\")]):_vm._e(),_vm._v(_vm._s(option.name))]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-8 right\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form[option.key]),expression:\"form[option.key]\"}],staticClass:\"form-control\",attrs:{\"maxlength\":\"1000\"},domProps:{\"value\":(_vm.form[option.key])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, option.key, $event.target.value)}}})])])]:[_c('div',{staticClass:\"col-sm-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"col-sm-4 control-label\"},[(option.isMust)?_c('span',{staticClass:\"MustFill\"},[_vm._v(\"*\")]):_vm._e(),_vm._v(_vm._s(option.name)+\"：\")]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-8 right\"},[(option.isDateTime)?[_c('input',{staticClass:\"form-control layer-date\",attrs:{\"readonly\":\"\",\"id\":\"time\",\"placeholder\":\"请选择日期\",\"onclick\":\"laydate({ elem: '#time'})\"}})]:(option.isFile)?[_vm._m(1,true),_vm._v(\" \"),_c('input',{staticClass:\"file\",attrs:{\"id\":option.key,\"type\":\"file\"},on:{\"change\":function($event){_vm.fileChange(option.key)}}}),_vm._v(\" \"),_c('span',{staticClass:\"remark\"},[_vm._v(\"(最大20M)\")]),_vm._v(\"\\n                      \"+_vm._s((_vm.form[option.key] && _vm.form[option.key].name) ? _vm.form[option.key].name : _vm.form[option.key] ? _vm.api_url + _vm.form[option.key] : '')+\"\\n                    \")]:[(index <= 2)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form[option.key]),expression:\"form[option.key]\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.form[option.key])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, option.key, $event.target.value)}}}):_vm._e(),_vm._v(\" \"),(index > 2)?[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form[option.key]),expression:\"form[option.key]\"}],staticClass:\"form-control proportion\",attrs:{\"onkeyup\":\"this.value=this.value.replace(/[^0-9]/g,'')\"},domProps:{\"value\":(_vm.form[option.key])},on:{\"change\":function($event){_vm.scoreChange(option.key)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, option.key, $event.target.value)}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.proportions[option.key]),expression:\"proportions[option.key]\"}],staticClass:\"form-control proportion\",attrs:{\"onkeyup\":\"this.value=this.value.replace(/[^0-9]/g,'')\"},domProps:{\"value\":(_vm.proportions[option.key])},on:{\"change\":function($event){_vm.proportionChange(option.key)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.proportions, option.key, $event.target.value)}}}),_vm._v(\" %\\n                      \")]:_vm._e()]],2)])])]]:_vm._e()})],2),_vm._v(\" \"),(_vm.proportionsSum != 100)?_c('p',[_vm._v(\"比例总和必须为100%, 目前比例总和为\"+_vm._s(_vm.proportionsSum)+\"%\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"text-center row\"},[(!_vm.isDisabled)?[(_vm.canSubmit)?_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"保存\")]):_vm._e(),_vm._v(\" \"),(!_vm.canSubmit)?_c('button',{staticClass:\"btn btn-default\"},[_vm._v(\"保存\")]):_vm._e()]:_vm._e(),_vm._v(\" \"),_c('b',{staticClass:\"btn btn-white\",on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")])],2)])])]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"none\"}},[_vm._v(_vm._s(_vm.count))])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ibox-title\"},[_c('h5',[_vm._v(\"评分\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-sm btn-primary\",attrs:{\"type\":\"button\"}},[_c('i',{staticClass:\"fa fa-upload\"}),_vm._v(\"  \\n                        \"),_c('span',{staticClass:\"bold\"},[_vm._v(\"选择附件\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8bf151d4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Achievements/scoreDetails.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8bf151d4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./scoreDetails.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./scoreDetails.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./scoreDetails.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8bf151d4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./scoreDetails.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8bf151d4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Achievements/scoreDetails.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}