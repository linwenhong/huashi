webpackJsonp([68],{"3M+p":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("BHhu"),a=i("8IWg"),o=i("9+VK"),s=i("TNi3"),c=i("jNku"),d=i("+0rj"),r=i("BXxX"),l={name:"department",data:function(){return{api:n.a,code:"department",dataKeys:a.g,notice:a.h.department,items:[],total:0,page:1,pageSize:n.c,condition:{},searchOptions:[{label:"标题",key:"name"}],operation:{}}},methods:{publicSearch:function(t){for(var e in t)this.condition[e]=t[e];this.getDataTables()},search:function(){this.getDataTables()},pageChange:function(t){this.getDataTables(t)},getDataTables:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i={type:this.notice.type};for(var n in e&&(i.page=e),this.condition)this.condition[n]&&(i[n]=this.condition[n]);r.a.Notice.get(i).then(function(i){200==i.code&&(t.page=e,t.items=i.data.data,t.total=i.data.total,setTimeout(function(){return c.a.iCheck()},200))})},download:function(t){this.fileExport({ids:[t.id],model:this.code})},fileExport:function(t){r.a.FileDownload(t).then(function(t){d.a.download(t)})},delConfirm:function(t){var e=this;r.a.Notice.del(t.id).then(function(t){200==t.code&&e.getDataTables()})},toTop:function(t,e){var i=this;r.a.Notice.edit(t.id,{top:e}).then(function(t){200==t.code&&(toastr.success(t.msg),i.getDataTables())})},add:function(){s.a.addDetailsTab("/views/notice/details/new?type="+this.notice.type,this.notice.name+"-新增")},see:function(t){s.a.addDetailsTab("/views/notice/details/"+t.id+"?type="+this.notice.type+"&readonly=readonly",this.notice.name+"-详情-"+t.id)},edit:function(t){s.a.addDetailsTab("/views/notice/details/"+t.id+"?type="+this.notice.type,this.notice.name+"-详情-"+t.id)}},created:function(){o.a.hasPermission("post_notification")&&(this.operation.add=!0),o.a.hasPermission("update_notification")&&(this.operation.edit=!0),o.a.hasPermission("delete_notification")&&(this.operation.del=!0),o.a.hasPermission("top_notification")&&(this.operation.top=!0),this.getDataTables()},mounted:function(){}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper wrapper-content"},[i("div",{staticClass:"ibox float-e-margins"},[t._m(0),t._v(" "),i("div",{staticClass:"ibox-content"},[i("public-search",{attrs:{hideStatus:!0,pageName:t.code,condition:t.condition,searchOptions:t.searchOptions},on:{search:t.publicSearch}}),t._v(" "),t.operation.add?i("div",{staticClass:"text-left"},[i("button",{staticClass:"btn btn-primary",on:{click:function(e){t.add()}}},[t._v("新增")])]):t._e(),t._v(" "),i("table",{staticClass:"table table-bordered text-center"},[t._m(1),t._v(" "),i("tbody",t._l(t.items,function(e,n){return i("tr",{key:e.id},[i("td",[t._v(t._s(e.id))]),t._v(" "),i("td",[t._v(t._s(e.name))]),t._v(" "),i("td",[e.pic?i("img",{staticClass:"icon",attrs:{src:t.api+e.pic}}):t._e()]),t._v(" "),i("td",[t.operation.edit?i("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(i){t.edit(e)}}},[t._v("编辑")]):t._e(),t._v(" "),i("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(i){t.see(e)}}},[t._v("查看")]),t._v(" "),t.operation.del?i("delete",{attrs:{item:e},on:{delConfirm:t.delConfirm}}):t._e(),t._v(" "),t.operation.top&&0==e.top?i("button",{staticClass:"btn btn-sm btn-warning",on:{click:function(i){t.toTop(e,1)}}},[t._v("置顶")]):t._e(),t._v(" "),t.operation.top&&1==e.top?i("button",{staticClass:"btn btn-sm btn-info",on:{click:function(i){t.toTop(e,0)}}},[t._v("取消置顶")]):t._e()],1)])}))]),t._v(" "),i("vue-pagination",{attrs:{"current-page":t.page,total:t.total,"page-size":t.pageSize,theme:"gray"},on:{"current-change":t.pageChange}})],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ibox-title"},[e("h5",[this._v("部处通知")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("ID")]),this._v(" "),e("th",[this._v("标题")]),this._v(" "),e("th",[this._v("图片")]),this._v(" "),e("th",[this._v("操作")])])])}]};var p=i("VU/8")(l,h,!1,function(t){i("d7vQ")},"data-v-3098728f",null);e.default=p.exports},d7vQ:function(t,e){}});
//# sourceMappingURL=68.2ebc709b8113369e097b.js.map